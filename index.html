
<!DOCTYPE html>
<html>
<head>
  <title>Team Status Admin Panel</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #1e1e1e; color: white; }
    h2 { text-align: center; margin-top: 10px; color: yellow; }
    .container { display: flex; flex-direction: row; gap: 20px; padding: 20px; }
    .form-section, .preview-section {
      flex: 1; padding: 20px; background: #2a2a2a; border-radius: 10px;
    }
    .team-row {
      display: flex; align-items: center; margin: 6px 0; padding: 8px;
      background-image: url('assets/wood_strip.png'); background-size: cover;
      font-weight: bold; color: white;
    }
    .logo { width: 30px; height: 30px; margin-right: 10px; object-fit: contain; }
    .team-name { flex: 2; color: white; padding-left: 5px; }
    .kills {
      flex: 1; text-align: center; color: white;
      display: flex; align-items: center; justify-content: center; gap: 5px;
    }
    .status {
      flex: 2; display: flex; justify-content: center; align-items: center; gap: 4px;
    }
    .status-icon { width: 20px; height: 20px; }
    .header-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 8px; background-color: #333; font-weight: bold; color: yellow;
    }
    input, select { width: 100%; padding: 8px; margin-bottom: 10px; }
    button { width: 100%; padding: 10px; background: #4CAF50; color: white; font-weight: bold; border: none; cursor: pointer; }
    .icon-btn {
      background: #555; border: none; color: white; font-size: 14px;
      width: 24px; height: 24px; border-radius: 4px; cursor: pointer;
    }
    .delete-btn {
      background: none; border: none; font-size: 18px; color: red;
      margin-left: 10px; cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Team Admin Panel</h2>
  <div class="container">
    <div class="form-section">
      <input type="text" id="name" placeholder="Team Name">
      <input type="text" id="logo" placeholder="Team Logo URL (e.g. /team-logos/TOX.png)">
      <label for="kills">Kills</label>
      <input type="number" id="kills" placeholder="Kills" value="0">
      <label for="aliveCount">Players Alive</label>
      <select id="aliveCount">
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4" selected>4</option>
      </select>
      <button onclick="addTeam()">Add / Update Team</button>
    </div>

    <div class="preview-section">
      <div class="header-row">
        <div style="flex: 0.5;">#</div>
        <div style="flex: 2;">TEAM</div>
        <div style="flex: 1; text-align: center;">KILLS</div>
        <div style="flex: 2; text-align: center;">ALIVE</div>
        <div style="width: 40px;"></div>
      </div>
      <div id="overlay"></div>
    </div>
  </div>

  <script>
    const overlay = document.getElementById('overlay');
    let teams = [];

    function render() {
      overlay.innerHTML = '';
      teams.slice(0, 16).forEach((team, index) => {
        const row = document.createElement('div');
        row.className = 'team-row';

        const aliveIcons = Array(team.aliveCount).fill('<img class="status-icon" src="assets/alive-yellow.png">').join('');

        row.innerHTML = `
          <div style="flex: 0.5;">${index + 1}</div>
          <img class="logo" src="${team.logo}" alt="logo" onerror="this.style.display='none'">
          <div class="team-name">${team.name}</div>
          <div class="kills">
            <button class="icon-btn" onclick="changeKills(${index}, -1)">−</button>
            <span>${team.kills}</span>
            <button class="icon-btn" onclick="changeKills(${index}, 1)">+</button>
          </div>
          <div class="status">${aliveIcons}</div>
          <button class="delete-btn" onclick="deleteTeam(${index})">✕</button>
        `;
        overlay.appendChild(row);
      });

      localStorage.setItem('teamData', JSON.stringify(teams));
    }

    function addTeam() {
      const name = document.getElementById('name').value;
      const logo = document.getElementById('logo').value;
      const kills = parseInt(document.getElementById('kills').value);
      const aliveCount = parseInt(document.getElementById('aliveCount').value);

      const existing = teams.find(t => t.name === name);
      if (existing) {
        existing.logo = logo;
        existing.kills = kills;
        existing.aliveCount = aliveCount;
      } else {
        teams.push({ name, logo, kills, aliveCount });
      }

      render();
    }

    function changeKills(index, delta) {
      teams[index].kills = Math.max(0, teams[index].kills + delta);
      render();
    }

    function deleteTeam(index) {
      teams.splice(index, 1);
      render();
    }

    function loadFromStorage() {
      const saved = localStorage.getItem('teamData');
      if (saved) {
        teams = JSON.parse(saved);
        render();
      }
    }

    loadFromStorage();
  </script>
</body>
</html>
