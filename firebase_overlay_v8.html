
<!DOCTYPE html>
<html>
<head>
  <title>Overlay</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { margin: 0; background: transparent; font-family: Arial; color: white; }
    .team-row {
      display: flex; align-items: center; padding: 6px 10px;
      background-image: url('assets/wood_strip.png'); background-size: cover;
      font-weight: bold;
    }
    .logo { width: 30px; height: 30px; margin-right: 10px; }
    .team-name { flex: 2; }
    .kills { flex: 1; text-align: center; }
    .status { flex: 2; display: flex; gap: 4px; justify-content: center; }
    .status-icon { width: 20px; height: 20px; }
  </style>
</head>
<body>
  <div id="overlay"></div>

  <!-- Firebase v8 SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyDIO3wksMFhs4j8FzI9VwTX_4sGJ1r12-0",
      authDomain: "team-overlay.firebaseapp.com",
      databaseURL: "https://team-overlay-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "team-overlay",
      storageBucket: "team-overlay.firebasestorage.app",
      messagingSenderId: "751537440201",
      appId: "1:751537440201:web:ee16879d25632d4bb1d418",
      measurementId: "G-08RMSESNDR"
    };
    firebase.initializeApp(firebaseConfig);
    var db = firebase.database();

    const overlay = document.getElementById('overlay');

    firebase.database().ref("teams").on("value", snapshot => {
      const data = snapshot.val();
      overlay.innerHTML = '';
      if (!data) return;
      Object.values(data).slice(0, 16).forEach((t, i) => {
        const row = document.createElement('div');
        row.className = 'team-row';
        const icons = Array(t.aliveCount || 0).fill('<img class="status-icon" src="assets/alive-yellow.png">').join('');
        row.innerHTML = `
          <div style="flex: 0.5;">${i + 1}</div>
          <img class="logo" src="${t.logo}" />
          <div class="team-name">${t.name}</div>
          <div class="kills">${t.kills}</div>
          <div class="status">${icons}</div>
        `;
        overlay.appendChild(row);
      });
    });
  </script>
</body>
</html>
